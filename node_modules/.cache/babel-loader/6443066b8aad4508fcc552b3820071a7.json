{"ast":null,"code":"import _slicedToArray from\"/home/ocode/Downloads/Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Row,Col,Card,Alert,CardBody,Button}from\"reactstrap\";// availity-reactstrap-validation\nimport{AvForm,AvField}from\"availity-reactstrap-validation\";// Redux\nimport{connect}from\"react-redux\";import{withRouter}from\"react-router-dom\";//Import Breadcrumb\nimport Breadcrumb from\"../../components/Common/Breadcrumb\";import avatar from\"../../assets/images/users/avatar-1.jpg\";// actions\nimport{editProfile,resetProfileFlag}from\"../../store/actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserProfile=function UserProfile(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setemail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setname=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),idx=_useState6[0],setidx=_useState6[1];var resetProfileFlag=props.resetProfileFlag;useEffect(function(){if(localStorage.getItem(\"authUser\")){var obj=JSON.parse(localStorage.getItem(\"authUser\"));if(process.env.REACT_APP_DEFAULTAUTH===\"firebase\"){setname(obj.displayName);setemail(obj.email);setidx(obj.uid);}else if(process.env.REACT_APP_DEFAULTAUTH===\"fake\"||process.env.REACT_APP_DEFAULTAUTH===\"jwt\"){setname(obj.username);setemail(obj.email);setidx(obj.uid);}setTimeout(function(){resetProfileFlag();},3000);}},[props.success,resetProfileFlag]);function handleValidSubmit(event,values){props.editProfile(values);}return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(Breadcrumb,{title:\"Qovex\",breadcrumbItem:\"Profile\"}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{lg:\"12\",children:[props.error&&props.error?/*#__PURE__*/_jsx(Alert,{color:\"danger\",children:props.error}):null,props.success&&props.success?/*#__PURE__*/_jsx(Alert,{color:\"success\",children:props.success}):null,/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ms-3\",children:/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"\",className:\"avatar-md rounded-circle img-thumbnail\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 align-self-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"h5\",{children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",children:email}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"Id no: #\",idx]})]})})]})})})]})}),/*#__PURE__*/_jsx(\"h4\",{className:\"card-title mb-4\",children:\"Change User Name\"}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(AvForm,{className:\"form-horizontal\",onValidSubmit:function onValidSubmit(e,v){handleValidSubmit(e,v);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(AvField,{name:\"username\",label:\"User Name\",value:name,className:\"form-control\",placeholder:\"Enter User Name\",type:\"text\",required:true}),/*#__PURE__*/_jsx(AvField,{name:\"idx\",value:idx,type:\"hidden\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"danger\",children:\"Edit User Name\"})})]})})})]})});};var mapStatetoProps=function mapStatetoProps(state){var _state$Profile=state.Profile,error=_state$Profile.error,success=_state$Profile.success;return{error:error,success:success};};export default withRouter(connect(mapStatetoProps,{editProfile:editProfile,resetProfileFlag:resetProfileFlag})(UserProfile));","map":{"version":3,"sources":["/home/ocode/Downloads/Admin/src/pages/Authentication/user-profile.js"],"names":["React","useState","useEffect","Row","Col","Card","Alert","CardBody","Button","AvForm","AvField","connect","withRouter","Breadcrumb","avatar","editProfile","resetProfileFlag","UserProfile","props","email","setemail","name","setname","idx","setidx","localStorage","getItem","obj","JSON","parse","process","env","REACT_APP_DEFAULTAUTH","displayName","uid","username","setTimeout","success","handleValidSubmit","event","values","error","e","v","mapStatetoProps","state","Profile"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types'\nimport React, { useState, useEffect } from \"react\"\nimport {\n  Row,\n  Col,\n  Card,\n  Alert,\n  CardBody,\n  Button,\n} from \"reactstrap\"\n\n// availity-reactstrap-validation\nimport { AvForm, AvField } from \"availity-reactstrap-validation\"\n\n// Redux\nimport { connect } from \"react-redux\"\nimport { withRouter } from \"react-router-dom\"\n\n//Import Breadcrumb\nimport Breadcrumb from \"../../components/Common/Breadcrumb\"\n\nimport avatar from \"../../assets/images/users/avatar-1.jpg\"\n// actions\nimport { editProfile , resetProfileFlag} from \"../../store/actions\"\n\nconst UserProfile = props => {\n  const [email, setemail] = useState(\"\")\n  const [name, setname] = useState(\"\")\n  const [idx, setidx] = useState(1)\n  const { resetProfileFlag } = props;\n  useEffect(() => {\n    if (localStorage.getItem(\"authUser\")) {\n      const obj = JSON.parse(localStorage.getItem(\"authUser\"))\n      if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n        setname(obj.displayName)\n        setemail(obj.email)\n        setidx(obj.uid)\n      } else if (\n        process.env.REACT_APP_DEFAULTAUTH === \"fake\" ||\n        process.env.REACT_APP_DEFAULTAUTH === \"jwt\"\n      ) {\n        setname(obj.username)\n        setemail(obj.email)\n        setidx(obj.uid)\n      }\n      setTimeout(() => {\n        resetProfileFlag();\n      }, 3000);\n    }\n  }, [props.success, resetProfileFlag])\n  function handleValidSubmit(event, values) {\n    props.editProfile(values)\n  }\n\n\n  return (\n    <React.Fragment>\n      <div className=\"page-content\">\n        \n          {/* Render Breadcrumb */}\n          <Breadcrumb title=\"Qovex\" breadcrumbItem=\"Profile\" />\n\n          <Row>\n            <Col lg=\"12\">\n              {props.error && props.error ? (\n                <Alert color=\"danger\">{props.error}</Alert>\n              ) : null}\n              {props.success && props.success ? (\n                <Alert color=\"success\">{props.success}</Alert>\n              ) : null}\n\n              <Card>\n                <CardBody>\n                  <div className=\"d-flex\">\n                    <div className=\"ms-3\">\n                      <img\n                        src={avatar}\n                        alt=\"\"\n                        className=\"avatar-md rounded-circle img-thumbnail\"\n                      />\n                    </div>\n                    <div className=\"flex-1 align-self-center\">\n                      <div className=\"text-muted\">\n                        <h5>{name}</h5>\n                        <p className=\"mb-1\">{email}</p>\n                        <p className=\"mb-0\">Id no: #{idx}</p>\n                      </div>\n                    </div>\n                  </div>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n\n          <h4 className=\"card-title mb-4\">Change User Name</h4>\n\n          <Card>\n            <CardBody>\n              <AvForm\n                className=\"form-horizontal\"\n                onValidSubmit={(e, v) => {\n                  handleValidSubmit(e, v)\n                }}\n              >\n                <div className=\"form-group\">\n                  <AvField\n                    name=\"username\"\n                    label=\"User Name\"\n                    value={name}\n                    className=\"form-control\"\n                    placeholder=\"Enter User Name\"\n                    type=\"text\"\n                    required\n                  />\n                  <AvField name=\"idx\" value={idx} type=\"hidden\" />\n                </div>\n                <div className=\"text-center mt-4\">\n                  <Button type=\"submit\" color=\"danger\">\n                    Edit User Name\n                  </Button>\n                </div>\n              </AvForm>\n            </CardBody>\n          </Card>\n      </div>\n    </React.Fragment>\n  )\n}\n\nUserProfile.propTypes = {\n  editProfile: PropTypes.func,\n  error: PropTypes.any,\n  success: PropTypes.any\n}\n\nconst mapStatetoProps = state => {\n  const { error, success } = state.Profile\n  return { error, success }\n}\n\nexport default withRouter(\n  connect(mapStatetoProps, { editProfile , resetProfileFlag})(UserProfile)\n)\n"]},"metadata":{},"sourceType":"module"}