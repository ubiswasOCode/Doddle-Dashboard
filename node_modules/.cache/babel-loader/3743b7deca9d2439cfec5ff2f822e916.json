{"ast":null,"code":"import { takeEvery, fork, put, all, call } from \"redux-saga/effects\"; //Account Redux states\n\nimport { REGISTER_USER } from \"./actionTypes\";\nimport { registerUserSuccessful, registerUserFailed } from \"./actions\"; //Include Both Helper File with needed methods\n\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\";\nimport { postFakeRegister, postJwtRegister } from \"../../../helpers/fakebackend_helper\"; // initialize relavant method of both Auth\n\nconst fireBaseBackend = getFirebaseBackend(); // Is user register successfull then direct plot user in redux.\n\nfunction* registerUser({\n  payload: {\n    user\n  }\n}) {\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(fireBaseBackend.registerUser, user.email, user.password);\n      yield put(registerUserSuccessful(response));\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"jwt\") {\n      const response = yield call(postJwtRegister, \"/post-jwt-register\", user);\n      console.log(response);\n      yield put(registerUserSuccessful(response));\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"fake\") {\n      const response = yield call(postFakeRegister, user);\n      yield put(registerUserSuccessful(response));\n    }\n  } catch (error) {\n    yield put(registerUserFailed(error));\n  }\n}\n\nexport function* watchUserRegister() {\n  yield takeEvery(REGISTER_USER, registerUser);\n}\n\nfunction* accountSaga() {\n  yield all([fork(watchUserRegister)]);\n}\n\nexport default accountSaga;","map":{"version":3,"sources":["/home/ocode/Downloads/Admin/src/store/auth/register/saga.js"],"names":["takeEvery","fork","put","all","call","REGISTER_USER","registerUserSuccessful","registerUserFailed","getFirebaseBackend","postFakeRegister","postJwtRegister","fireBaseBackend","registerUser","payload","user","process","env","REACT_APP_DEFAULTAUTH","response","email","password","console","log","error","watchUserRegister","accountSaga"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,QAAgD,oBAAhD,C,CAEA;;AACA,SAASC,aAAT,QAA8B,eAA9B;AACA,SAASC,sBAAT,EAAiCC,kBAAjC,QAA2D,WAA3D,C,CAEA;;AACA,SAASC,kBAAT,QAAmC,kCAAnC;AACA,SACEC,gBADF,EAEEC,eAFF,QAGO,qCAHP,C,CAKA;;AACA,MAAMC,eAAe,GAAGH,kBAAkB,EAA1C,C,CAEA;;AACA,UAAUI,YAAV,CAAuB;AAAEC,EAAAA,OAAO,EAAE;AAAEC,IAAAA;AAAF;AAAX,CAAvB,EAA8C;AAC5C,MAAI;AACF,QAAIC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsC,UAA1C,EAAsD;AACpD,YAAMC,QAAQ,GAAG,MAAMd,IAAI,CACzBO,eAAe,CAACC,YADS,EAEzBE,IAAI,CAACK,KAFoB,EAGzBL,IAAI,CAACM,QAHoB,CAA3B;AAKA,YAAMlB,GAAG,CAACI,sBAAsB,CAACY,QAAD,CAAvB,CAAT;AACD,KAPD,MAOO,IAAIH,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsC,KAA1C,EAAiD;AACtD,YAAMC,QAAQ,GAAG,MAAMd,IAAI,CAACM,eAAD,EAAkB,oBAAlB,EAAwCI,IAAxC,CAA3B;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,YAAMhB,GAAG,CAACI,sBAAsB,CAACY,QAAD,CAAvB,CAAT;AACD,KAJM,MAIA,IAAIH,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsC,MAA1C,EAAkD;AACvD,YAAMC,QAAQ,GAAG,MAAMd,IAAI,CAACK,gBAAD,EAAmBK,IAAnB,CAA3B;AACA,YAAMZ,GAAG,CAACI,sBAAsB,CAACY,QAAD,CAAvB,CAAT;AACD;AACF,GAhBD,CAgBE,OAAOK,KAAP,EAAc;AACd,UAAMrB,GAAG,CAACK,kBAAkB,CAACgB,KAAD,CAAnB,CAAT;AACD;AACF;;AAED,OAAO,UAAUC,iBAAV,GAA8B;AACnC,QAAMxB,SAAS,CAACK,aAAD,EAAgBO,YAAhB,CAAf;AACD;;AAED,UAAUa,WAAV,GAAwB;AACtB,QAAMtB,GAAG,CAAC,CAACF,IAAI,CAACuB,iBAAD,CAAL,CAAD,CAAT;AACD;;AAED,eAAeC,WAAf","sourcesContent":["import { takeEvery, fork, put, all, call } from \"redux-saga/effects\"\n\n//Account Redux states\nimport { REGISTER_USER } from \"./actionTypes\"\nimport { registerUserSuccessful, registerUserFailed } from \"./actions\"\n\n//Include Both Helper File with needed methods\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\"\nimport {\n  postFakeRegister,\n  postJwtRegister,\n} from \"../../../helpers/fakebackend_helper\"\n\n// initialize relavant method of both Auth\nconst fireBaseBackend = getFirebaseBackend()\n\n// Is user register successfull then direct plot user in redux.\nfunction* registerUser({ payload: { user } }) {\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(\n        fireBaseBackend.registerUser,\n        user.email,\n        user.password\n      )\n      yield put(registerUserSuccessful(response))\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"jwt\") {\n      const response = yield call(postJwtRegister, \"/post-jwt-register\", user)\n      console.log(response)\n      yield put(registerUserSuccessful(response))\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"fake\") {\n      const response = yield call(postFakeRegister, user)\n      yield put(registerUserSuccessful(response))\n    }\n  } catch (error) {\n    yield put(registerUserFailed(error))\n  }\n}\n\nexport function* watchUserRegister() {\n  yield takeEvery(REGISTER_USER, registerUser)\n}\n\nfunction* accountSaga() {\n  yield all([fork(watchUserRegister)])\n}\n\nexport default accountSaga\n"]},"metadata":{},"sourceType":"module"}