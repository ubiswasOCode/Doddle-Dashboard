{"ast":null,"code":"import { call, put, takeEvery, takeLatest } from \"redux-saga/effects\";\n\n// Login Redux States\nimport { LOGIN_USER, LOGOUT_USER, SOCIAL_LOGIN } from \"./actionTypes\";\nimport { apiError, loginSuccess, logoutUserSuccess } from \"./actions\";\n\n//Include Both Helper File with needed methods\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\";\nimport { postFakeLogin, postJwtLogin, postSocialLogin } from \"../../../helpers/fakebackend_helper\";\nconst fireBaseBackend = getFirebaseBackend();\nfunction* loginUser(_ref) {\n  let {\n    payload: {\n      user,\n      history\n    }\n  } = _ref;\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(fireBaseBackend.loginUser, user.email, user.password);\n      yield put(loginSuccess(response));\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"jwt\") {\n      const response = yield call(postJwtLogin, {\n        email: user.email,\n        password: user.password\n      });\n      localStorage.setItem(\"authUser\", JSON.stringify(response));\n      yield put(loginSuccess(response));\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"fake\") {\n      const response = yield call(postFakeLogin, {\n        email: user.email,\n        password: user.password\n      });\n      localStorage.setItem(\"authUser\", JSON.stringify(response));\n      yield put(loginSuccess(response));\n    }\n    history.push(\"/dashboard\");\n  } catch (error) {\n    yield put(apiError(error));\n  }\n}\nfunction* logoutUser(_ref2) {\n  let {\n    payload: {\n      history\n    }\n  } = _ref2;\n  try {\n    localStorage.removeItem(\"authUser\");\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(fireBaseBackend.logout);\n      yield put(logoutUserSuccess(response));\n    }\n    history.push(\"/login\");\n  } catch (error) {\n    yield put(apiError(error));\n  }\n}\nfunction* socialLogin(_ref3) {\n  let {\n    payload: {\n      data,\n      history,\n      type\n    }\n  } = _ref3;\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const fireBaseBackend = getFirebaseBackend();\n      const response = yield call(fireBaseBackend.socialLoginUser, data, type);\n      localStorage.setItem(\"authUser\", JSON.stringify(response));\n      yield put(loginSuccess(response));\n    } else {\n      const response = yield call(postSocialLogin, data);\n      localStorage.setItem(\"authUser\", JSON.stringify(response));\n      yield put(loginSuccess(response));\n    }\n    history.push(\"/dashboard\");\n  } catch (error) {\n    yield put(apiError(error));\n  }\n}\nfunction* authSaga() {\n  yield takeEvery(LOGIN_USER, loginUser);\n  yield takeLatest(SOCIAL_LOGIN, socialLogin);\n  yield takeEvery(LOGOUT_USER, logoutUser);\n}\nexport default authSaga;","map":{"version":3,"names":["call","put","takeEvery","takeLatest","LOGIN_USER","LOGOUT_USER","SOCIAL_LOGIN","apiError","loginSuccess","logoutUserSuccess","getFirebaseBackend","postFakeLogin","postJwtLogin","postSocialLogin","fireBaseBackend","loginUser","_ref","payload","user","history","process","env","REACT_APP_DEFAULTAUTH","response","email","password","localStorage","setItem","JSON","stringify","push","error","logoutUser","_ref2","removeItem","logout","socialLogin","_ref3","data","type","socialLoginUser","authSaga"],"sources":["/home/ocode-2023/Desktop/Dashboard/Admin/src/store/auth/login/saga.js"],"sourcesContent":["import { call, put, takeEvery, takeLatest } from \"redux-saga/effects\"\n\n// Login Redux States\nimport { LOGIN_USER, LOGOUT_USER, SOCIAL_LOGIN } from \"./actionTypes\"\nimport { apiError, loginSuccess, logoutUserSuccess } from \"./actions\"\n\n//Include Both Helper File with needed methods\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\"\nimport {\n  postFakeLogin,\n  postJwtLogin,\n  postSocialLogin,\n} from \"../../../helpers/fakebackend_helper\"\n\nconst fireBaseBackend = getFirebaseBackend()\n\nfunction* loginUser({ payload: { user, history } }) {\n  \n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(\n        fireBaseBackend.loginUser,\n        user.email,\n        user.password\n      )\n      yield put(loginSuccess(response))\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"jwt\") {\n      const response = yield call(postJwtLogin, {\n        email: user.email,\n        password: user.password,\n      })\n      localStorage.setItem(\"authUser\", JSON.stringify(response))\n      yield put(loginSuccess(response))\n    } else if (process.env.REACT_APP_DEFAULTAUTH === \"fake\") {\n      \n      const response = yield call(postFakeLogin, {\n        email: user.email,\n        password: user.password,\n      })\n      \n      localStorage.setItem(\"authUser\", JSON.stringify(response))\n      yield put(loginSuccess(response))\n    }\n    history.push(\"/dashboard\")\n  } catch (error) {\n    yield put(apiError(error))\n  }\n}\n\nfunction* logoutUser({ payload: { history } }) {\n  try {\n    localStorage.removeItem(\"authUser\")\n\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(fireBaseBackend.logout)\n      yield put(logoutUserSuccess(response))\n    }\n    history.push(\"/login\")\n  } catch (error) {\n    yield put(apiError(error))\n  }\n}\n\nfunction* socialLogin({ payload: { data, history, type } }) {\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const fireBaseBackend = getFirebaseBackend()\n      const response = yield call(\n        fireBaseBackend.socialLoginUser,\n        data,\n        type,\n      )\n      localStorage.setItem(\"authUser\", JSON.stringify(response))\n      yield put(loginSuccess(response))\n    } else {\n      const response = yield call(postSocialLogin, data)\n      localStorage.setItem(\"authUser\", JSON.stringify(response))\n      yield put(loginSuccess(response))\n    }\n    history.push(\"/dashboard\")\n  } catch (error) {\n    yield put(apiError(error))\n  }\n}\n\nfunction* authSaga() {\n  yield takeEvery(LOGIN_USER, loginUser)\n  yield takeLatest(SOCIAL_LOGIN, socialLogin)\n  yield takeEvery(LOGOUT_USER, logoutUser)\n}\n\nexport default authSaga\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}